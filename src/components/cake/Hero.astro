---
import DeviceMockup from './DeviceMockup.astro';
import AppStoreButton from '@/components/ui/AppStoreButton.astro';
import { APPS } from '@/lib/constants';
---

<section class="hero-fitme relative min-h-screen flex items-center justify-center overflow-hidden pt-20">
  <!-- Background glow -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] rounded-full bg-brand/5 blur-[150px]" />
  </div>

  <div class="relative z-10 max-w-[1200px] mx-auto px-6 w-full">
    <div class="flex flex-col items-center text-center">
      <!-- Title -->
      <h1 class="font-extrabold text-white tracking-tighter leading-[0.95] mb-6 hero-title-fitme">
        Never Miss a<br />
        <span class="text-brand">Birthday</span> Again
      </h1>

      <p class="text-text-body text-lg md:text-xl max-w-[540px] mb-10 leading-relaxed tracking-tight">
        Celebrate better ‚Äî with beautiful widgets, smart reminders, and meaningful insights. All while keeping your data completely private.
      </p>

      <div class="mb-16">
        <a href={APPS.cake.appStoreUrl} target="_blank" rel="noopener noreferrer" class="inline-block">
          <AppStoreButton href={APPS.cake.appStoreUrl} size="lg" />
        </a>
      </div>

      <!-- Phone Mockup with orbiting cards -->
      <div class="relative w-full max-w-[700px] mx-auto">
        <!-- Orbiting cards -->
        <div class="orbit-container absolute inset-0 hidden lg:block">
          <!-- Card 1: Top-left -->
          <div class="orbit-card absolute -top-8 -left-16 animate-float-slow">
            <div class="bg-surface-card/80 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-[180px] shadow-brand">
              <div class="flex items-center gap-3 mb-2">
                <div class="w-8 h-8 rounded-lg bg-brand/20 flex items-center justify-center text-sm">üéÇ</div>
                <span class="text-white text-sm font-semibold">Today</span>
              </div>
              <p class="text-text-muted text-xs">Sarah's Birthday!</p>
              <div class="mt-2 h-1 rounded-full bg-white/10 overflow-hidden">
                <div class="h-full w-full bg-brand rounded-full" />
              </div>
            </div>
          </div>

          <!-- Card 2: Top-right -->
          <div class="orbit-card absolute -top-4 -right-20 animate-float-delayed">
            <div class="bg-surface-card/80 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-[170px] shadow-brand">
              <div class="flex items-center gap-2 mb-2">
                <div class="w-6 h-6 rounded-full bg-green-500/20 flex items-center justify-center">
                  <svg class="w-3.5 h-3.5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                </div>
                <span class="text-white text-xs font-medium">Gift Sent</span>
              </div>
              <p class="text-text-muted text-[11px]">Mark ‚Äî Mar 15</p>
            </div>
          </div>

          <!-- Card 3: Bottom-left -->
          <div class="orbit-card absolute bottom-24 -left-24 animate-float-delayed">
            <div class="bg-surface-card/80 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-[160px] shadow-brand">
              <div class="text-3xl mb-1">üéÅ</div>
              <span class="text-white text-xs font-semibold">3 Upcoming</span>
              <p class="text-text-muted text-[11px] mt-1">This week</p>
            </div>
          </div>

          <!-- Card 4: Bottom-right -->
          <div class="orbit-card absolute bottom-16 -right-16 animate-float-slow">
            <div class="bg-surface-card/80 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-[175px] shadow-brand">
              <div class="flex items-center gap-2 mb-2">
                <div class="w-8 h-8 rounded-full bg-brand/20 flex items-center justify-center text-sm">üì±</div>
                <span class="text-white text-xs font-medium">Widget</span>
              </div>
              <div class="flex gap-1">
                <div class="h-1 flex-1 rounded-full bg-brand" />
                <div class="h-1 flex-1 rounded-full bg-brand/40" />
                <div class="h-1 flex-1 rounded-full bg-white/10" />
              </div>
            </div>
          </div>
        </div>

        <!-- Central Phone -->
        <DeviceMockup class="relative z-10">
          <div class="w-full h-full bg-gradient-to-b from-surface-card to-black flex flex-col items-center justify-center p-6">
            <img
              src="/assets/cakeLogo.png"
              alt="Cake App"
              class="w-20 h-20 rounded-2xl mb-4 shadow-brand-lg"
            />
            <div class="text-white font-bold text-lg mb-1">Cake</div>
            <div class="text-text-muted text-xs mb-6">Birthday Reminders</div>

            <!-- Mini UI mockup -->
            <div class="w-full space-y-3">
              <div class="bg-white/5 rounded-xl p-3 border border-white/10">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-white text-xs font-medium">Today</span>
                  <span class="text-brand text-[10px] font-semibold">2 birthdays</span>
                </div>
                <div class="flex gap-2">
                  <div class="w-8 h-8 rounded-full bg-brand/20 flex items-center justify-center text-xs">S</div>
                  <div class="w-8 h-8 rounded-full bg-purple-500/20 flex items-center justify-center text-xs">M</div>
                </div>
              </div>
              <div class="bg-white/5 rounded-xl p-3 border border-white/10">
                <div class="flex items-center justify-between">
                  <span class="text-white text-xs font-medium">Upcoming</span>
                  <span class="text-text-muted text-[10px]">This week</span>
                </div>
                <div class="mt-2 space-y-1.5">
                  <div class="flex items-center gap-2">
                    <div class="w-1.5 h-1.5 rounded-full bg-brand" />
                    <span class="text-text-body text-[11px]">Alex ‚Äî Feb 18</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <div class="w-1.5 h-1.5 rounded-full bg-brand/50" />
                    <span class="text-text-body text-[11px]">Emma ‚Äî Feb 21</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </DeviceMockup>
      </div>
    </div>
  </div>
</section>

<style>
  .hero-title-fitme {
    font-size: clamp(2.8rem, 8vw, 5.5rem);
  }

  .orbit-card {
    transition: transform 0.3s ease;
  }

  .orbit-card:hover {
    transform: scale(1.05);
  }

  @media (max-width: 1024px) {
    .orbit-container {
      display: none;
    }
  }
</style>
