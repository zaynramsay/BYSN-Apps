---
import DeviceMockup from './DeviceMockup.astro';
import AppStoreButton from '@/components/ui/AppStoreButton.astro';
import { APPS } from '@/lib/constants';
---

<section class="hero-fitme relative min-h-screen flex items-center justify-center overflow-hidden pt-24 pb-12">
  <!-- Background glows -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-brand/8 blur-[150px]" />
    <div class="absolute bottom-0 left-1/4 w-[400px] h-[400px] rounded-full bg-brand/4 blur-[120px]" />
  </div>

  <div class="relative z-10 max-w-[1200px] mx-auto px-6 w-full">
    <div class="flex flex-col items-center text-center">
      <!-- Badge -->
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm mb-8">
        <div class="w-2 h-2 rounded-full bg-brand animate-pulse-brand" />
        <span class="text-text-body text-sm font-medium tracking-tight">Birthday Reminders, Reimagined</span>
      </div>

      <!-- Title -->
      <h1 class="font-extrabold text-white tracking-tighter leading-[0.92] mb-6 hero-title-fitme">
        Never Miss a<br />
        <span class="text-brand">Birthday</span> Again
      </h1>

      <p class="text-text-body text-lg md:text-xl max-w-[540px] mb-10 leading-relaxed tracking-tight">
        Smart reminders, beautiful widgets, and meaningful insights ‚Äî all while keeping your data completely private.
      </p>

      <div class="mb-16">
        <a href={APPS.cake.appStoreUrl} target="_blank" rel="noopener noreferrer" class="inline-block">
          <AppStoreButton href={APPS.cake.appStoreUrl} size="lg" />
        </a>
      </div>

      <!-- Phone Mockup with orbiting cards -->
      <div class="relative w-full max-w-[700px] mx-auto">
        <!-- Orbiting cards (desktop only) -->
        <div class="orbit-container absolute inset-0 hidden lg:block">
          <!-- Card 1: Top-left - Today's birthday -->
          <div class="orbit-card absolute -top-8 -left-16 animate-float-slow">
            <div class="bg-[#161616]/80 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-[190px] shadow-brand">
              <div class="flex items-center gap-3 mb-2">
                <div class="w-8 h-8 rounded-lg bg-brand/20 flex items-center justify-center text-sm">üéÇ</div>
                <span class="text-white text-sm font-semibold">Today</span>
              </div>
              <p class="text-text-muted text-xs">Nova Rivera's Birthday!</p>
              <div class="mt-2 h-1 rounded-full bg-white/10 overflow-hidden">
                <div class="h-full w-full bg-brand rounded-full" />
              </div>
            </div>
          </div>

          <!-- Card 2: Top-right - Reminder set -->
          <div class="orbit-card absolute -top-4 -right-20 animate-float-delayed">
            <div class="bg-[#161616]/80 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-[170px] shadow-brand">
              <div class="flex items-center gap-2 mb-2">
                <div class="w-6 h-6 rounded-full bg-green-500/20 flex items-center justify-center">
                  <svg class="w-3.5 h-3.5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                </div>
                <span class="text-white text-xs font-medium">Reminder Set</span>
              </div>
              <p class="text-text-muted text-[11px]">3 days before</p>
            </div>
          </div>

          <!-- Card 3: Bottom-left - Upcoming -->
          <div class="orbit-card absolute bottom-24 -left-24 animate-float-delayed">
            <div class="bg-[#161616]/80 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-[165px] shadow-brand">
              <div class="text-2xl mb-2">üéÅ</div>
              <span class="text-white text-xs font-semibold">3 Upcoming</span>
              <p class="text-text-muted text-[11px] mt-1">This week</p>
            </div>
          </div>

          <!-- Card 4: Bottom-right - Widget -->
          <div class="orbit-card absolute bottom-16 -right-16 animate-float-slow">
            <div class="bg-[#161616]/80 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-[175px] shadow-brand">
              <div class="flex items-center gap-2 mb-2">
                <div class="w-7 h-7 rounded-lg bg-brand/20 flex items-center justify-center text-sm">üì±</div>
                <span class="text-white text-xs font-medium">Widgets</span>
              </div>
              <div class="flex gap-1">
                <div class="h-1 flex-1 rounded-full bg-brand" />
                <div class="h-1 flex-1 rounded-full bg-brand/40" />
                <div class="h-1 flex-1 rounded-full bg-white/10" />
              </div>
            </div>
          </div>
        </div>

        <!-- Central Phone with screenshot -->
        <DeviceMockup class="relative z-10" screenshot="/assets/cake/screen1.png" alt="Cake App - Upcoming Birthdays" />
      </div>
    </div>
  </div>
</section>

<style>
  .hero-title-fitme {
    font-size: clamp(2.8rem, 8vw, 5.5rem);
  }

  .orbit-card {
    transition: transform 0.3s ease;
  }

  .orbit-card:hover {
    transform: scale(1.05);
  }

  @media (max-width: 1024px) {
    .orbit-container {
      display: none;
    }
  }
</style>
