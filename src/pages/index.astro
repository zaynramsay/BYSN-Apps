---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/layout/Header.astro';
import Footer from '@/components/layout/Footer.astro';
import VantaBackground from '@/components/ui/VantaBackground.astro';
import AppsSection from '@/components/sections/AppsSection.astro';
import AboutSection from '@/components/sections/AboutSection.astro';
import { SITE, NAV_LINKS, FOOTER_LINKS } from '@/lib/constants';
---

<BaseLayout title={`${SITE.name} - ${SITE.tagline}`} variant="main">
  <!-- Noise texture overlay for premium feel -->
  <div class="noise-overlay"></div>

  <VantaBackground variant="blue" effect="halo" />
  <Header links={NAV_LINKS.home} variant="blue" />

  <main>
    <!-- Hero Section with Premium Effects -->
    <section class="hero hero-parallax min-h-screen flex items-center justify-center text-center relative overflow-hidden">
      <div class="hero-content max-w-[900px] px-6 pt-16 z-10">
        <!-- Animated Brand Mark -->
        <div class="scroll-scale mb-12">
          <div class="brand-mark-premium w-[140px] h-[140px] mx-auto float-enhanced">
            <div class="brand-icon w-full h-full bg-gradient-to-br from-primary-blue to-secondary-purple rounded-[32px] flex items-center justify-center shadow-blue-glow pulse-ring text-primary-blue">
              <svg viewBox="0 0 24 24" fill="currentColor" class="w-20 h-20 text-white">
                <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V20C21 21.1 20.1 22 19 22H5C3.9 22 3 21.1 3 20V9C3 7.9 3.9 7 5 7H19C20.1 7 21 7.9 21 9ZM7 19H17V16H7V19Z" />
              </svg>
            </div>
          </div>
        </div>

        <!-- Animated Title -->
        <h1 class="text-[5rem] font-extrabold mb-6 tracking-tighter leading-none">
          <span class="text-reveal animated-gradient-text">{SITE.name}</span>
        </h1>

        <!-- Tagline with word reveal -->
        <p class="text-[2rem] text-text-secondary mb-4 font-normal leading-relaxed tracking-tight word-reveal">
          {SITE.tagline}
        </p>

        <!-- Subtitle -->
        <p class="text-[1.2rem] text-text-tertiary mb-14 font-normal leading-relaxed tracking-tight max-w-[700px] mx-auto scroll-fade" style="transition-delay: 0.3s;">
          {SITE.description}
        </p>

        <!-- Premium CTA Button -->
        <div class="scroll-fade" style="transition-delay: 0.4s;">
          <a href="#apps" class="btn-premium magnetic shimmer">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M17 2.5V9A2.5 2.5 0 0 1 14.5 11.5H8A2.5 2.5 0 0 0 5.5 14V20.5A2.5 2.5 0 0 0 8 23H16A2.5 2.5 0 0 0 18.5 20.5V11.5H20.5A2.5 2.5 0 0 0 23 9V2.5A2.5 2.5 0 0 0 20.5 0H19.5A2.5 2.5 0 0 0 17 2.5Z" />
            </svg>
            Explore Our Apps
          </a>
        </div>
      </div>

    </section>

    <!-- Apps Section -->
    <div class="section-transition">
      <AppsSection />
    </div>

    <!-- About Section -->
    <div class="section-transition">
      <AboutSection />
    </div>
  </main>

  <Footer links={FOOTER_LINKS.home} />
</BaseLayout>

<script>
  import { initScrollEffects } from '@/lib/scroll-effects';
  import { initAllPremiumEffects } from '@/lib/premium-effects';

  // Initialize all effects
  initScrollEffects({
    fadeElements: '.scroll-fade',
    scaleElements: '.scroll-scale',
  });

  initAllPremiumEffects();

  // Smooth scroll for anchor links
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const href = (this as HTMLAnchorElement).getAttribute('href');
      if (href) {
        const target = document.querySelector(href);
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start',
          });
        }
      }
    });
  });
</script>

<style>
  /* Hero title enhancement */
  .hero h1 {
    line-height: 1;
  }

  @media (max-width: 768px) {
    .hero h1 {
      font-size: 3.5rem;
    }
    .hero .text-\[2rem\] {
      font-size: 1.4rem;
    }
    .hero .text-\[1\.2rem\] {
      font-size: 1rem;
    }
    .brand-mark-premium {
      width: 100px;
      height: 100px;
    }
    .brand-mark-premium .brand-icon {
      border-radius: 24px;
    }
    .brand-mark-premium svg {
      width: 56px;
      height: 56px;
    }
  }
</style>
